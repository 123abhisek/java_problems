package Problems;

import java.util.ArrayList;
import java.util.List;

// 	2962. Count Subarrays Where Max Element Appears at Least K Times

public class Count_Subarrays_Where_Max_Element_Appears_at_Least_K_Times_2962 {

	public static List<List<Integer>> generateSubarrays(int[] nums) {
		List<List<Integer>> result = new ArrayList<>();
		int n = nums.length;

		// Loop to generate all subarrays
		for (int i = 0; i < n; i++) {
			List<Integer> subarray = new ArrayList<>();
			for (int j = i; j < n; j++) {
				subarray.add(nums[j]);
				result.add(new ArrayList<>(subarray)); // Add a copy of subarray to result
			}
		}
		return result;
	}

	// Function to print subarrays
	public static void printSubarrays(List<List<Integer>> subarrays) {
		for (List<Integer> subarray : subarrays) {
			System.out.println(subarray);
		}
	}

	public static int largestNum(int[] nums) {
		int large = nums[0];

		for (int i = 1; i < nums.length; i++) {
			if (nums[i] > large) {
				large = nums[i];
			}
		}
		return large;
	}

	public static long countSubarrays(int[] nums, int k) {

		List<List<Integer>> subarrays = generateSubarrays(nums);
		int subArrayCount = 0;
		for (List<Integer> list : subarrays) {
			int count = 0;
			for (int i = 0; i < list.size(); i++) {
				if (largestNum(nums) == list.get(i)) {
					count++;
				}
			}
			if (count >= k) {
				subArrayCount++;
			}
		}
		return subArrayCount;
	}

	public static void main(String[] args) {

		int[] nums = { 554, 1337, 910, 1337, 1016, 47, 1337, 251, 283, 1238, 1337, 1337, 59, 350, 60, 89, 785, 1180,
				592, 220, 1062, 780, 919, 1337, 1337, 495, 1337, 303, 1031, 338, 231, 95, 488, 683, 652, 1133, 1176,
				687, 854, 711, 832, 1337, 1296, 936, 989, 165, 251, 463, 1337, 1055, 1337, 1337, 170, 874, 750, 1223,
				1043, 505, 1337, 1287, 78, 1337, 1337, 1337, 1106, 1266, 1337, 1162, 1337, 111, 1337, 388, 1337, 934,
				147, 248, 695, 324, 865, 350, 1156, 1222, 94, 1127, 986, 132, 1337, 1069, 1170, 469, 58, 361, 539, 1337,
				1337, 210, 1337, 650, 982, 1085, 1236, 1337, 264, 724, 1298, 1337, 651, 1080, 947, 1337, 170, 875, 1337,
				351, 1131, 1308, 1337, 1159, 33, 573, 1307, 837, 1337, 626, 1161, 1175, 775, 1337, 1337, 1337, 1337,
				120, 516, 497, 1287, 312, 464, 1337, 27, 711, 1302, 665, 1089, 632, 581, 1337, 302, 1337, 837, 1337,
				1190, 1208, 1337, 265, 996, 1158, 472, 944, 261, 241, 726, 1218, 782, 698, 262, 93, 860, 905, 47, 795,
				1155, 294, 843, 89, 513, 629, 747, 197, 556, 1337, 1337, 1214, 35, 1098, 1129, 1170, 421, 1337, 486,
				523, 1337, 819, 273, 336, 330, 200, 1337, 1337, 785, 1337, 191, 205, 99, 61, 836, 1337, 1152, 78, 1223,
				639, 1143, 881, 973, 1337, 136, 813, 1337, 1337, 197, 1155, 1284, 42, 1196, 1337, 476, 1337, 697, 842,
				1337, 781, 804, 436, 728, 94, 1337, 460, 1328, 1337, 264, 1173, 217, 797, 1209, 1337, 1337, 1337, 369,
				1337, 1337, 702, 1337, 86, 277, 1337, 705, 649, 209, 909, 1337, 392, 828, 703, 618, 932, 1337, 1337,
				1337, 742, 1337, 1009, 351, 60, 994, 1337, 756, 279, 1126, 1337, 179, 275, 1337, 834, 1087, 329, 181,
				1337, 1151, 248, 1161, 1337, 191, 827, 998, 103, 753, 1337, 449, 241, 1337, 1337, 1337, 765, 25, 1002,
				458, 1337, 1337, 782, 1032, 47, 997, 1337, 709, 631, 1198, 1337, 1127, 1337, 270, 863, 768, 507, 53,
				571, 968, 1337, 229, 779, 950, 432, 1308, 420, 754, 1337, 645, 907, 1268, 855, 1337, 1073, 88, 662, 941,
				1337, 1337, 969, 1337, 54, 903, 1337, 1130, 1337, 1337, 594, 558, 1337, 37, 1116, 1337, 735, 1337, 190,
				978, 211, 614, 162, 1274, 675, 1061, 1337, 828, 1337, 318, 1261, 1337, 1337, 275, 597, 535, 1118, 871,
				1337, 772, 931, 917, 419, 244, 1337, 1329, 1337, 1119, 164, 1337, 234, 1294, 1200, 760, 730, 737, 767,
				1061, 795, 220, 304, 1306, 1337, 595, 966, 1107, 181, 1230, 1337, 947, 1337, 1246, 1109, 162, 1337,
				1337, 1036, 1337, 1136, 149, 24, 1337, 850, 33, 1337, 1318, 1216, 342, 406, 1337, 274, 408, 525, 661,
				1059, 1254, 442, 396, 778, 1337, 1162, 270, 937, 616, 15, 734, 1325, 954, 1337, 1020, 1337, 645, 101,
				1015, 305, 511, 746, 959, 1337, 404, 316, 130, 1262, 121, 1088, 407, 1157, 1032, 1337, 22, 572, 84, 430,
				1337, 375, 634, 1337, 917, 1337, 232, 1337, 815, 1337, 1096, 1337, 1163, 1337, 933, 448, 1337, 1337,
				1337, 1337, 1337, 582, 867, 89, 304, 164, 1337, 1337, 189, 1086, 1337, 469, 1337, 733, 969, 1337, 898,
				1337, 1186, 1337, 503, 156, 534, 60, 403, 108, 155, 1149, 667, 645, 1337, 184, 738, 975, 1337, 258, 264,
				118, 1337, 743, 1337, 424, 1337, 1337, 1163, 1300, 154, 1284, 740, 498, 919, 1274, 452, 522, 425, 768,
				1035, 107, 1166, 1337, 200, 1337, 99, 1320, 32, 546, 1337, 1337, 229, 1058, 1337, 631, 1337, 1337, 1337,
				1337, 980, 166, 528, 228, 55, 761, 821, 1337, 984, 282, 850, 533, 930, 119, 702, 443, 911, 2, 714, 551,
				89, 176, 1337, 247, 1337, 395, 1224, 154, 162, 766, 1160, 1213, 915, 320, 937, 742, 1169, 3, 1337, 1337,
				1337, 901, 422, 1268, 173, 1326, 1337, 797, 1179, 556, 1261, 364, 1337, 403, 111, 4, 1337, 859, 51,
				1337, 1337, 1337, 1337, 532, 1337, 690, 487, 789, 1337, 450, 217, 1229, 645, 1337, 633, 1337, 630, 1239,
				1337, 1337, 590, 720, 97, 1337, 442, 329, 736, 1203, 311, 744, 900, 1337, 281, 252, 1022, 322, 829, 739,
				1095, 124, 1254, 1337, 1337, 33, 130, 1337, 401, 46, 798, 566, 1337, 1060, 345, 1127, 1337, 561, 78,
				1002, 1337, 1337, 1299, 1337, 1172, 1337, 1337, 494, 1288, 934, 913, 647, 263, 946, 1324, 1337, 147,
				1142, 148, 1337, 398, 889, 1337, 50, 593, 205, 639, 1018, 711, 752, 451, 1039, 393, 698, 773, 476, 1337,
				985, 96, 1313, 1240, 929, 91, 692, 677, 656, 347, 804, 1257, 1337, 1337, 374, 1337, 1330, 1337, 1337,
				1337, 286, 697, 423, 885, 477, 493, 681, 40, 85, 1068, 265, 1337, 1337, 1242, 1279, 1088, 1209, 1337,
				1337, 151, 1337, 1337, 1337, 775, 423, 258, 1337, 1336, 758, 560, 957, 1023, 1283, 1337, 334, 1337, 771,
				70, 314, 1337, 1337, 549, 1337, 273, 532, 1199, 993, 101, 1337, 365, 1337, 369, 934, 128, 1337, 205,
				276, 652, 59, 1122, 133, 304, 1307, 882, 42, 1257, 1260, 515, 295, 434, 1337, 875, 1337, 1337, 1337,
				124, 1264, 1337, 66, 458, 254, 542, 625, 231, 842, 1337, 1337, 296, 979, 1337, 1112, 1337, 1337, 398,
				636, 1337, 569, 1337, 826, 1337, 354, 1337, 1337, 1312, 395, 1151, 854, 511, 1337, 492, 1337, 336, 1301,
				481, 1321, 1056, 565, 723, 1337, 993, 900, 914, 752, 417, 461, 146, 640, 294, 886, 1012, 829, 320, 1337,
				473, 1125, 1337, 1337, 354, 148, 27, 955, 1154 };
		int k = 130;
//		int[] nums = { 1, 3, 2, 3, 3 };
//		int k = 2;

		System.out.println(countSubarrays(nums, k));

	}

}
